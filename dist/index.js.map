{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["const dragAndDropList = [];\n\nfunction create(element, options) {\n\tif (!element) {\n\t\tthrow new Error(\"Element should not be null or undefined\");\n\t}\n\tif (!options) {\n\t\toptions = {};\n\t}\n\tfor (const child of element.children) {\n\t\tchild.setAttribute(\"draggable\", \"true\");\n\n\t\tif (options.onDragStart && isFunction(options.onDragStart)) {\n\t\t\tchild.addEventListener(\"dragstart\", event => {\n\t\t\t\tconst dragStartEvent = new DragStartEvent(event);\n\t\t\t\toptions.onDragStart(dragStartEvent);\n\t\t\t\tif (dragStartEvent.data) {\n\t\t\t\t\tthis.data = dragStartEvent.data;\n\t\t\t\t}\n\t\t\t\tif (dragStartEvent.dragLayout) {\n\t\t\t\t\tdragStartEvent.dragLayout.style.top = \"-1000px\";\n\t\t\t\t\tdragStartEvent.dragLayout.style.left = \"-1000px\";\n\t\t\t\t\tdragStartEvent.dragLayout.style.position = \"absolute\";\n\t\t\t\t\tdocument.body.append(dragStartEvent.dragLayout);\n\t\t\t\t\tthis.dragLayout = dragStartEvent.dragLayout;\n\t\t\t\t\tevent.dataTransfer.setDragImage(\n\t\t\t\t\t\tdragStartEvent.dragLayout,\n\t\t\t\t\t\tdragStartEvent.dragLayout / 2,\n\t\t\t\t\t\tdragStartEvent.dragLayout / 2\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tchild.addEventListener(\"dragend\", event => {\n\t\t\tif (options.onDragEnd && isFunction(options.onDragEnd)) {\n\t\t\t\tconst dragEndEvent = new DragEndEvent(event);\n\t\t\t\tif (this.data) {\n\t\t\t\t\tdragEndEvent.data = this.data;\n\t\t\t\t}\n\t\t\t\toptions.onDragEnd(dragEndEvent);\n\t\t\t}\n\t\t\tif (this.dragLayout) {\n\t\t\t\tthis.dragLayout.remove();\n\t\t\t}\n\t\t});\n\n\t\tchild.addEventListener(\"dragover\", event => {\n\t\t\tconsole.log(\"dragover\");\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t});\n\n\t\tchild.addEventListener(\"drop\", event => {\n\t\t\tif (options.onDrop && isFunction(options.onDrop)) {\n\t\t\t\toptions.onDrop(event);\n\t\t\t}\n\t\t});\n\t}\n\tdragAndDropList.push({\n\t\toptions\n\t});\n}\n\nclass DragStartEvent {\n\tconstructor(event) {\n\t\tthis.nativeEvent = event;\n\t\tthis.dragLayout = null;\n\t\tthis.data = null;\n\t}\n}\n\nclass DragEndEvent {\n\tconstructor(event) {\n\t\tthis.nativeEvent = event;\n\t\tthis.data = null;\n\t}\n}\n\nfunction isFunction(functionToCheck) {\n\treturn (\n\t\tfunctionToCheck && {}.toString.call(functionToCheck) === \"[object Function]\"\n\t);\n}\n\nexport default {\n\tcreate\n};\n"],"names":[],"mappings":"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"}